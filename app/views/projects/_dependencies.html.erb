<% if @dependencies.length > 0 %>
  <% @dependencies.group_by(&:kind).each do |kind, deps| %>
    <% if deps.length > 0 %>
    <h3><%= kind.humanize unless kind == 'runtime' %> Dependencies </h3>
      <dl data-ga-tracked-el='dependencies' class='row'>
        <% deps.each do |dependency| %>
          <dt class='col-sm-8'>
            <%= link_to dependency.project_name, project_path(name: dependency.project_name, platform: PackageManager::Base.dependency_platform(dependency.platform)) %>
          </dt>
          <dd class='col-sm-4 hidden-xs'>
            <%= dependency.requirements %>
            <% if dependency.project %>
              <small>
                <%= render 'dependencies/flags', dependency: dependency %>
              </small>
            <% end %>
          </dd>
        <% end %>
      </dl>
      <% kind_param = kind == 'runtime' ? nil : kind %>
      <% link = @version ? version_tree_path(@version.to_param.merge(kind: kind_param)) : tree_path(@project.to_param.merge(kind: kind_param)) %>
      <%= link_to link do %>
        Explore <%= kind.downcase unless kind == 'runtime' %> dependencies
      <% end %>
    <% end %>
  <% end %>
<% end %>