<% title "Contributors to #{@github_repository.full_name} on GitHub - Libraries" %>

<h1>Contributors to <%= link_to @github_repository.full_name, github_repository_path(@github_repository.owner_name, @github_repository.project_name) %></h1>
<hr>

<% if @contributors.any? %>
  <% @contributors.each do |contribution| %>
    <% user = contribution.github_user %>
    <div class="contributor">
      <%= link_to image_tag(user.avatar_url, width: 60, height: 60, alt: user), user_path(user) %>
      <h4>
        <%= link_to user, user_path(user) %>
        <% if user.name.present? %>
          <small>
            <%= user.login %>
          </small>
        <% end %>
      </h4>
      <small><%= link_to pluralize(contribution.count, 'commit'), @github_repository.commits_url + "?author=#{user.login}" %></small>
    </div>
  <% end %>
  <%= will_paginate @contributors, renderer: BootstrapPagination::Rails, page_links: false %>
<% else %>
  <p>
    No contributors found, go back to <%= link_to @github_repository.full_name, github_repository_path(@github_repository.owner_name, @github_repository.project_name) %>.
  </p>
<% end %>
