<% if @project.github_repository.present? %>
<hr>
<div class='row'>
  <div class='col-md-6'>
    <% repo = @project.github_repository %>
    <h4><%= link_to repo, repo.url %></h4>
    <%= image_tag repo.avatar_url, width: 60, height: 60 %>
    <%= repo.description %>
    <% if repo.homepage.present? %>
    <%= link_to repo.homepage, repo.homepage %>
    <% end %>
    <% if repo.fork %>
    <p>
      Fork: <%= repo.fork? %>
    </p>
    <% end %>
    <p>
      Main Language: <%= repo.language %>
    </p>
    <p>
      Created: <%= repo.created_at.to_s(:long) %>
    </p>
    <p>
      Last updated: <%= repo.updated_at.to_s(:long) %>
    </p>
    <p>
      Last pushed: <%= repo.pushed_at.to_s(:long) %>
    </p>
    <p>
      size: <%= number_to_human_size repo.size*1000 %>
    </p>
    <p>
      stars: <%= link_to number_with_delimiter(repo.stargazers_count), repo.stargazers_url %>
    </p>
    <p>
      forks: <%= link_to number_with_delimiter(repo.forks_count), repo.forks_url %>
    </p>
    <p>
      watchers: <%= link_to number_with_delimiter(repo.subscribers_count), repo.watchers_url %>
    </p>
    <p>
      Contributors: <%= link_to repo.github_contributions.count, repo.contributors_url %>
    </p>

    <p>
      issues: <%= repo.has_issues? ? link_to(number_with_delimiter(repo.open_issues_count), repo.issues_url) : 'disabled'  %>
    </p>
    <% if repo.has_wiki? %>
    <p>
      <%= link_to 'Wiki', repo.wiki_url %>
    </p>
    <% end %>
    <% if repo.has_pages? %>
    <p>
      <%= link_to 'Pages', repo.pages_url %>
    </p>
    <% end %>
    <% if repo.mirror_url.present? %>
    <p>
      Mirror of <%= repo.mirror_url %>
    </p>
    <% end %>
  </div>
  <div class='col-md-6'>
    <h4>Top Contributors</h4>
    <%= render 'projects/contributions' %>
  </div>
</div>

<% else %>
  <% if @project.github_url.present? %>
    <p>
      Repo: <%= link_to @project.github_url, @project.github_url %>
    </p>
  <% end %>
<% end %>
